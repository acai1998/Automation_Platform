# ============================================
# 数据库配置
# ============================================
DB_HOST=117.72.182.23
DB_PORT=3306
DB_USER=root
DB_PASSWORD=Caijinwei2025
DB_NAME=autotest

# ============================================
# JWT 配置
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# ============================================
# 服务器配置
# ============================================
PORT=3000
NODE_ENV=production

# ============================================
# Jenkins 配置
# 参考 trigger_jenkins.py 中的配置
# 生产环境中请替换为实际值
# ============================================
JENKINS_URL=http://jenkins.wiac.xyz:8080
JENKINS_USER=root
JENKINS_TOKEN=116fb13c3cc6cd3e33e688bacc26e18b60
JENKINS_JOB_NAME=AutoTest
JENKINS_JOB_API=SeleniumBaseCi-AutoTest
JENKINS_JOB_UI=ui-automation
JENKINS_JOB_PERF=performance-automation

# 回调认证配置（重要！与 Jenkinsfile 中保持一致）
JENKINS_API_KEY=3512fc38e1882a9ad2ab88c436277c129517e24a76daad1849ef419f90fd8a4f
JENKINS_JWT_SECRET=911902ea2bb02ad4584ab983f32be08c4a4c513b05d3faeb0f1af292b2031c45d9d7476ee44d88c868af22bbdab20cd8e2661b6f11e26e85bc82ac7ef9dd4fc9
JENKINS_SIGNATURE_SECRET=ae1f90328c75eb3b5eb5955890033bfa7f81e9713c6f54292bb46ca3a033946d

# 网络配置
JENKINS_ALLOWED_IPS=localhost,127.0.0.1,jenkins.wiac.xyz
API_CALLBACK_URL=http://117.72.182.23:3000

# 调试配置
JENKINS_DEBUG_IP=true

# ============================================
# 执行监控配置
# ============================================
# 启用执行监控服务（检测卡住的执行记录）
EXECUTION_MONITOR_ENABLED=true
# 监控检查间隔（毫秒，默认 60000 = 1分钟）
EXECUTION_MONITOR_INTERVAL=60000
# 编译错误检测窗口（毫秒，默认 120000 = 2分钟）
COMPILATION_CHECK_WINDOW=120000
# 每次检查的最大执行记录数（默认 20）
EXECUTION_MONITOR_BATCH_SIZE=20
# Jenkins API 调用之间的延迟（毫秒，默认 100）
EXECUTION_MONITOR_RATE_LIMIT=100

# ============================================
# 其他配置
# ============================================
CORS_ORIGIN=http://117.72.182.23:5173
# ===== 优化配置（2026-02-10 添加）=====
# 混合同步服务配置
CALLBACK_TIMEOUT=30000
POLL_INTERVAL=10000
MAX_POLL_ATTEMPTS=40
CONSISTENCY_CHECK_INTERVAL=300000

# 执行监控配置（覆盖旧值）
EXECUTION_MONITOR_INTERVAL=30000
COMPILATION_CHECK_WINDOW=30000
EXECUTION_MONITOR_MAX_AGE_HOURS=24
EXECUTION_CLEANUP_INTERVAL=3600000

# WebSocket 配置（暂时禁用以测试轮询优化）
WEBSOCKET_ENABLED=true
FRONTEND_URL=http://localhost:5173
